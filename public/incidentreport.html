<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="">
    <link rel="icon" type="image/x-icon" src="/public/assets/sync.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Safe@Home</title>

    <!-- Compiled and minified CSS -->
    <!-- CSS only -->

    <!-- Materialze-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Materialize icons-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link href="styles.css" rel="stylesheet">
</head>

<body>
    <header>
        <nav>
            <div class="nav-wrapper" style=" background-color: #433b3b;">
                <ul id="nav-mobile" class="right hide-on-med-and-down">
                    <li><a href="/"> Home</a></li>
                </ul>
            </div>
        </nav>
    </header>
    <main>

        <div class="container">

            <h1 class="center" id="incR-title">Safe@Home - Incident Report</h1>
            <div class="progress">
                <div class="determinate" style="width: 100%"></div>
                <p>.</p>
            </div>
            <p>.</p>


                  
                  

            <div class="container">
                <form class="col s6">
                    <div class="input-field col s4">
                        <input id="frmDate" value="" type="date" class="date1">
                        <label class="labelfrmDate" for="frmDate">Incident Date from :</label>
                    </div>
                    <div class="input-field col s4">
                        <input id="endDate" value="" type="date" class="date1">
                        <label class="labelendDate" for="endDate">Incident Date To:</label>
                    </div>
                    <div>
                        <button class="btn waves-effect waves-light" type="submit" name="action">Search
                            <i class="material-icons right">send</i>
                        </button>
                    </div>
                </form>
                <script>
                    document.addEventListener("submit", searchInc);
                    function searchInc() {
                        //alert('Search submitted!');
                        var dt1 = new Date($('#frmDate').val())
                        var dt2 = new Date($('#endDate').val())
                        console.log('date1 :' + getFormattedDate(dt1) + 'date2 :' + getFormattedDate(dt2))
                        newSearch(dt1, dt2)
                        return false;
                    }
                </script>

            </div>
            <div class="container">
                 <h4 class="center" id="incL-title">All Incidents</h4> 
                <div class="row" id="listIncidents">
                </div>
            </div>
        </div>
        <div class="row center " style="padding-top:50px;">
            <a id="testButton" class="waves-effect waves-light btn-large modal-trigger" href="#irmodal"
                style="background-color: #875612;"><i class="material-icons left"
                    style="color:white; font-size:larger ">emoji_people</i>Report Incident</a>
        </div>

    </main>
    <footer class="page-footer">
        <div class="footer-copyright">
            <div class="container">
                Â© 2022 Copyright AbyScaria
                <a class="grey-text text-lighten-4 right"></i>Safe@Home !</a>
            </div>
        </div>
    </footer>

    <!-- socket IO Served by the server 
    <script src="/socket.io/socket.io.js"></script>-->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <script src="irenv.js"></script>

</body>

</html>

<!-- Incident Report Modal Structure -->
<div id="irmodal" class="modal">
    <div class="modal-content">
        <h4>Report incident happend at your Home</h4>
        <p>Help us to improve our servies</p>
        <div class="row">
            <div class="input-field col s12">
                <input value="" id="cAccount" type="text" class="validate">
                <label class="labelCA" for="cAccount">Customer Account :</label>
            </div>
            <div class="input-field col s12">
                <input value="" id="incDate" type="date" class="validate">
                <label class="labelIncDt" for="incDate">Incident Date :</label>
            </div>
            <div class="input-field col s12">
                <input value="" id="devId" type="text" class="validate">
                <label class="labelDID" for="devId">Device ID</label>
            </div>
            <div class="input-field col s12">
                <input value="" id="incType" type="text" class="validate">
                <label class="labelIT" for="incType">Incident Type</label>
            </div>
            <div class="input-field col s12">
                <input value="" id="incDes" type="text" class="validate">
                <label class="labelDes" for="incDes">Incident Description</label>
            </div>

        </div>
    </div>
    <div class="modal-footer">
        <a onclick="newIncident()" href="#!" class="modal-close waves-effect waves-green btn-flat">Submit</a>
    </div>
</div>